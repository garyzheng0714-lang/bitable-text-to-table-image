## 修复与改造
- 移除不支持的 `authorization` 字段与 `AuthorizationType.Tenant` 引用，消除 TS2561/TS2339。
- 删除仍引用已移除变量的日志（`'===3 生成的图片URL': imageUrl`），消除 TS2304。
- 表单参数改为两个字段选择：
  - `sourceTextField`：`FieldSelect`，`supportType: [FieldType.Text]`；用于读取待渲染文本。
  - `targetAttachmentField`：`FieldSelect`，`supportType: [FieldType.Attachment]`；用于用户选择目标附件字段（用于校验与展示，若环境允许可尝试写入）。
- 渲染：归一化富文本数组为字符串，解析 `# header:` 与 `|` 分列；生成 SVG 表格（首行加深、居中、浅灰分隔线、列宽自适应），体积控制在 10MB 内。
- 返回类型：`resultType: FieldType.Attachment`，返回附件数组（非对象）。
- 上传：将 SVG 调用 `https://open.feishu.cn/open-apis/drive/v1/files/upload_all` 上传；成功返回 `file_token` 后，作为附件数组返回当前捷径字段。若环境具备鉴权与记录上下文，再按记录更新 API尝试写入用户选择的附件字段；失败则兜底为当前捷径字段返回附件。
- 域名白名单：仅一次添加 `open.feishu.cn`、`feishu.cn`、`larksuitecdn.com`、`larksuite.com`。

## 测试流程
- 执行 `npm run start` 本地调试；
- 在控制台检查：
  - `===1 解析结果`：headers 与数据行正确；
  - 上传返回日志无 403/404；若本地无鉴权，看到兜底提示并仍返回附件数组；
- 在表格中验证：
  - 选择文本字段与附件字段；
  - 单元格展示为“附件卡片”，可下载；
  - 样式符合示例、图片体积 < 10MB。

## 递交与回归
- 确保上述测试通过后再提交；
- 每次提交前重复测试；
- 遇到错误自行调试修复，并复测。